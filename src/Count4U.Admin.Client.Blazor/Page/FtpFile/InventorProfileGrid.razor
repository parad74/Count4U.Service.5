@page "/inventorgrid/{branchCode}"
@namespace Count4U.Admin.Client.Page
@inherits InventorProfileGridBase
@attribute [Authorize(Policy = UserPolicy.IsProfile)]

<AuthorizeView Policy="@UserPolicy.IsProfile">

    @if (_profileFiles == null)
    {
        <p><em>Loading...</em></p>
    }
    else
    {
        <PagedDataList Data=@_profileFiles Prev="Prev" Next="Next" ItemsPerPage="10">
            <ListTemplate Context="listOfInventor" >
                <h6 class="bg-success p-1 text-white">Inventor with Profile</h6>
                <table class="table table-bordered table-sm">
                    @*<thead>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">Name</th>
                                <th scope="col">Users</th>
                                <th scope="col">Edit</th>
                            </tr>
                        </thead>*@
                    <tbody>
                        @listOfInventor
                    </tbody>
                </table>
            </ListTemplate>
            <ItemTemplate Context="inventor">
                <tr @key=@inventor>
                    @*<td>@role.RoleID</td>*@
                    <td style="padding-left: 30px;padding-right: 30px;width:80px">@inventor.CustomerCode</td>
                    <td style="padding-left: 30px;padding-right: 30px;width:120px">@inventor.BranchCode</td>
                    <td style="padding-left: 30px;padding-right: 30px;width:120px">@inventor.InventorName</td>
                    <td style="padding-left: 30px;padding-right: 30px;width:400px">@inventor.InventorCode</td>
                    <td>@inventor.ToString()</td>
                    @*<td>
            <ul class="nav flex-column">
                @foreach (var user in role.Members)
                    {
                    <li @key=@user.UserID>
                        @user.Email
                    </li>
                    }
            </ul>
        </td>*@
                    @*<td style="align-content:center;padding-left: 30px;padding-right: 30px">*@
                    <td style="padding-left: 30px;padding-right: 30px;width:152px">
                        <button class="btn btn-outline-success  btn-sm" style="width:90px" @onclick="@(()=>ProfileFileEdit(inventor.InventorCode))">
                            <span>Edit Profile</span>
                        </button>
                    </td>
                    <td style="padding-left: 30px;padding-right: 30px;width:152px">
                        <button class="btn btn-outline-success  btn-sm" style="width:90px" @onclick="@(()=>ProfileFileShow(inventor.InventorCode))">
                            <span>Show File</span>
                        </button>
                    </td>
                </tr>
            </ItemTemplate>
        </PagedDataList>
    }

</AuthorizeView>
